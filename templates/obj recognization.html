<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR Application</title>
    <link rel="stylesheet" href="static/styles/obj recognization.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

    
</head>
<style>
         #sessionTimeout {
            position: fixed;
            top: 10px;
            right: 10px;
            background-color:#057909;
            color: white;
            font-weight: bold;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px;
            display: none;
            margin-right: 20px; 
        }
    .options a.active {
    background-color: #057909;
    color: white;
}

.options a.active:hover {
    background-color: #057909;
    color: white;
}


</style>
<body>
    <div class="container">
        <img src="static\images\logo1.png" alt="Logo" style="position: fixed; top: 0px; left: 10px; width: 100px; height: auto; z-index: 9999;"><br><br>
        <div class="options"><br><br>
            <h1>Applications</h1>
            <a href="upload_pdf" class="ocr-option ative">OCR Application</a>
            <a href="process_specific_fields" class="ocr-option">OCR Specific fields</a>
            <a href="#" class="ocr-boundary">OCR Boundary</a>
            <!--<a href="#" class="chatbot-option">AI Chat GPT</a>--->
            <a href="detect" class="obj-recognization">Object Recognization</a>
        </div>
        <a href="#" class="logout-option" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i>logout
        </a>
        <div class="upload-media">
               <div class="container1">
                   <div id="uploadContainer" class="left-container" style="float:left;">
                       <br><br>
                       <!-- <form id="uploadForm" enctype="multipart/form-data"> -->
                        <!-- <form id="uploadForm" method="POST" enctype="multipart/form-data"></form> -->
                        <h2 style="color:#057909;margin-top:4px;">Upload an Image <i class="fa-regular fa-file-image" style="margin-right:2px;"></i>/Video <i class="fa-regular fa-file-video" style="margin-left:2px;"></i></h2>

                       <form id="uploadForm" enctype="multipart/form-data">
                           <input type="file" id="mediaFile" name="file" accept=".png,.jpg,.jpeg,.mp4,.avi" required><br><br>
                           <button type="submit" class="btn btn-primary1">Upload</button>
                       </form>
                       <!-- <div id="result"></div> -->
                       <div id="uploadStatus"></div>
                   </div>
               </div>
           </div>
           <script>
            document.getElementById('uploadForm').addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission
    
                // Create FormData object to send file
                var formData = new FormData();
                formData.append('file', document.getElementById('mediaFile').files[0]);
    
                // Send POST request to Flask server
                var xhr = new XMLHttpRequest();
                xhr.open('POST', '/detect', true);
                xhr.onload = function () {
                    if (xhr.status == 200) {
                        // Display response from server
                        document.getElementById('result').innerHTML = xhr.responseText;
                    } else {
                        // Handle errors
                        document.getElementById('result').innerHTML = 'Error: ' + xhr.statusText;
                    }
                };
                xhr.send(formData);
            });
        </script>
        <div class="content">
            <div class="content-section ocr-content active">
                <br>
                <h2>OCR Application</h2>
                <p>
                <h1>What is OCR (Optical Character Recognition)?</h1>
    <p>Optical Character Recognition (OCR) is the process that converts an image of text into a machine-readable text format. For example, if you scan a form or a receipt, your computer saves the scan as an image file. You cannot use a text editor to edit, search, or count the words in the image file. However, you can use OCR to convert the image into a text document with its contents stored as text data.</p>

    <h2>Why is OCR important?</h2>
    <p>Most business workflows involve receiving information from print media. Paper forms, invoices, scanned legal documents, and printed contracts are all part of business processes. These large volumes of paperwork take a lot of time and space to store and manage. Though paperless document management is the way to go, scanning the document into an image creates challenges. The process requires manual intervention and can be tedious and slow.</p>
    <p>Moreover, digitizing this document content creates image files with the text hidden within it. Text in images cannot be processed by word processing software in the same way as text documents. OCR technology solves the problem by converting text images into text data that can be analyzed by other business software. You can then use the data to conduct analytics, streamline operations, automate processes, and improve productivity.</p>

    <h2>How does OCR work?</h2>
    <p>The OCR engine or OCR software works by using the following steps:</p>
    <ol>
        <li><strong>Image acquisition:</strong> A scanner reads documents and converts them to binary data. The OCR software analyzes the scanned image and classifies the light areas as background and the dark areas as text.</li>
        <li><strong>Preprocessing:</strong> The OCR software first cleans the image and removes errors to prepare it for reading. These are some of its cleaning techniques:</li>
        <ul>
            <li>Deskewing or tilting the scanned document slightly to fix alignment issues during the scan.</li>
            <li>Despeckling or removing any digital image spots or smoothing the edges of text images.</li>
            <li>Cleaning up boxes and lines in the image.</li>
        </ul>
        <li><strong>Script recognition for multi-language OCR technology</strong></li>
        <li><strong>Text recognition:</strong> The two main types of OCR algorithms or software processes that an OCR software uses for text recognition are called pattern matching and feature extraction.</li>
        <ul>
            <li><strong>Pattern matching:</strong> Pattern matching works by isolating a character image, called a glyph, and comparing it with a similarly stored glyph. Pattern recognition works only if the stored glyph has a similar font and scale to the input glyph. This method works well with scanned images of documents that have been typed in a known font.</li>
        </ul>
    </ol>
</p>
 </div>
 
    <div id="sessionTimeout">Session Timeout: <span id="countdown">600</span> seconds</div>
    <script>
// Set session timeout duration in seconds (e.g., 60 seconds)
const sessionTimeoutDuration = 600; // 60 seconds
let logoutTimer;
let countdownValue = sessionTimeoutDuration;

function startLogoutTimer() {
    logoutTimer = setInterval(() => {
        countdownValue--;
        document.getElementById("countdown").textContent = countdownValue;
        if (countdownValue <= 0) {
            clearInterval(logoutTimer);
            window.location.href = "login"; // Redirect to login page
        }
    }, 1000); // Update every second
}

function resetLogoutTimer() {
    clearInterval(logoutTimer);
    countdownValue = sessionTimeoutDuration;
    startLogoutTimer();
}
// Start the initial timer
startLogoutTimer();

// Show the session timeout countdown
document.getElementById("sessionTimeout").style.display = "block";

//accepting the files with mp4,avi,jpeg,png
document.getElementById('uploadForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent form submission

        var fileInput = document.getElementById('mediaFile');
        var file = fileInput.files[0];

        if (!file) {
            displayMessage("Please select a file.", false);
            return;
        }

        var fileType = file.type;
        var validImageTypes = ["image/png", "image/jpeg"];
        var validVideoTypes = ["video/mp4", "video/avi"];

        if (validImageTypes.includes(fileType) || validVideoTypes.includes(fileType)) {
            // Simulate processing time
            displayMessage("Processing...", true);

            // Simulate asynchronous upload process
            setTimeout(function() {
                displayMessage("Successful upload.", true);
            }, 2000); // Change this value to suit your actual processing time
        } else {
            displayMessage("Please select a valid image (PNG or JPEG) or video (MP4 or AVI) file.", false);
        }
    });

    function displayMessage(message, success) {
        var uploadStatus = document.getElementById('uploadStatus');
        uploadStatus.innerHTML = message;
        if (success) {
            uploadStatus.style.color = "#057909"; // Green color for success
        } else {
            uploadStatus.style.color = "red"; // Red color for error
        }
    }
// Function to handle logout
function logout()
        {
            window.location.href = "/";
        }
 </script>
    <!-- <script src="ocr application.js"></script> -->


</body>
</html>